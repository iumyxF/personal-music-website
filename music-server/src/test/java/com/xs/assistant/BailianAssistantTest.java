package com.xs.assistant;

import com.xs.dto.assistant.CommentAnalysisRequest;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.List;

/**
 * @author fzy
 * @description:
 * @date 2025-11-07 14:41
 */
@SpringBootTest
class BailianAssistantTest {

    @Autowired
    private BailianAssistant bailianAssistant;

    @Test
    void analysisComment() {
        CommentAnalysisRequest request = new CommentAnalysisRequest();
        request.setSongId("Song_1230001231283121");
        request.setSongName("我们万岁");
        request.setLyrics("渐渐头上染了白你一样很美\n" +
                "纯粹发自我真心别皱眉\n" +
                "月亮是否仍然认得当天的你\n" +
                "约会每一刻亦带着孩子气\n" +
                "常为碎事而庆祝\n" +
                "怀念幼稚时犯的错\n" +
                "真想与你重游那快乐故地\n" +
                "情人游天地日月换行李\n" +
                "如果失忆我渴望再多一次认识你\n" +
                "与你说些无聊事挽手几千里\n" +
                "证明可不舍不弃吻停不知几多岁的你\n" +
                "特别鸣谢你制造更欢乐的我\n" +
                "除了每月有几天受折磨\n" +
                "段段日子回头望清怎么走过\n" +
                "确定这碉堡没有事能攻破\n" +
                "曾为愤怒而痛哭\n" +
                "回望厌闷时越的界\n" +
                "珍惜有你仍然会对着我坐\n" +
                "情人游天地日月换行李\n" +
                "如果失忆我渴望再多一次认识你\n" +
                "与你说些无聊事挽手几千里\n" +
                "证明可不舍不弃吻停你到下世纪\n" +
                "变幻继续变幻拆不开\n" +
                "我们已成我们还好有爱在怀中感慨\n" +
                "笑着喊着抱着如万世不朽只有爱\n" +
                "多好能拥抱未来\n" +
                "情人游天地日月换行李\n" +
                "从今开始懒理会世间一切是与非\n" +
                "与你说些无聊事再走几千里\n" +
                "永恒的不舍不弃降临你我合葬的墓碑\n" +
                "我要好好珍惜你\n" +
                "能重头享受爱你");
        request.setSongAnalysis("陈奕迅的歌曲《我们万岁》是一首充满深情和温暖的情歌，它讲述了一段长久而深刻的爱情故事。这首歌通过细腻的歌词和旋律，传达了对伴侣的无限珍惜和对未来的共同期待。\n" +
                "歌词中，“渐渐头上染了白你一样很美，纯粹发自我真心别皱眉”描绘了随着时间的流逝，尽管容颜老去，但在爱人眼中，对方依然美丽如初。这种情感的真挚和纯粹，是爱情中最为动人的部分。\n" +
                "“月亮是否仍然认得当天的你，约会每一刻亦带着孩子气”则回忆起两人相识相爱的点点滴滴，那份纯真和快乐仿佛就在昨天，让人怀念。\n" +
                "“常为碎事而庆祝，怀念幼稚时犯的错”表达了两人在一起的生活中，即使是最微小的事情也能成为庆祝的理由，那些年轻时的幼稚和错误也成为了珍贵的回忆。\n" +
                "“真想与你重游那快乐故地”则透露出想要与爱人一起重温过去美好时光的愿望，这种愿望充满了对过去美好记忆的怀念和对未来的期待。\n" +
                "“情人游天地日月换行李”象征着两人一起走过的岁月，无论世界如何变迁，他们的爱情始终如一。\n" +
                "“如果失忆我渴望再多一次认识你”表达了即使失去记忆，也希望能够重新认识并爱上对方，这种情感的深度和执着让人动容。\n" +
                "“与你说些无聊事挽手几千里”则描绘了两人在一起的平凡日常，即使是最无聊的事情，只要和对方一起，也能变得有趣和珍贵。\n" +
                "“证明可不舍不弃吻停不知几多岁的你”强调了无论岁月如何变迁，他们的爱情始终坚定不移，这种承诺和坚守是爱情中最坚实的基石。\n" +
                "“特别鸣谢你制造更欢乐的我”则是对爱人的感激之情，感谢对方让自己的生活变得更加快乐和充实。\n" +
                "“除了每月有几天受折磨”可能指的是两人在一起时偶尔的小摩擦和不愉快，但这些小插曲并不影响他们之间的深厚感情。\n" +
                "“段段日子回头望清怎么走过，确定这碉堡没有事能攻破”则表达了两人一起经历的风风雨雨，他们的关系坚不可摧，任何困难都无法将他们分开。\n" +
                "“曾为愤怒而痛哭，回望厌闷时越的界”回忆起两人在一起时的争吵和误解，但这些经历最终都成为了他们感情的试金石，让他们的关系更加坚固。\n" +
                "“珍惜有你仍然会对着我坐”则是对爱人的珍视和感激，感谢对方始终陪伴在自己身边，给予支持和安慰。\n" +
                "“情人游天地日月换行李，从今开始懒理会世间一切是与非”表达了两人决定抛开世俗的纷扰，只专注于彼此的爱情，享受两人世界的美好。\n" +
                "“与你说些无聊事再走几千里”再次强调了两人在一起的平凡日常，即使是最无聊的事情，也能成为他们共同的回忆和乐趣。\n" +
                "“永恒的不舍不弃降临你我合葬的墓碑”则是对未来的承诺，即使生命终结，他们的爱情也将永恒不变，这种情感的深度和执着让人感动。\n" +
                "“我要好好珍惜你”是整首歌的总结，表达了对爱人的珍视和感激，感谢对方给予的爱和陪伴，也承诺将这份爱情好好珍惜。\n" +
                "总的来说，《我们万岁》是一首充满深情和温暖的情歌，它通过细腻的歌词和旋律，传达了对伴侣的无限珍惜和对未来的共同期待。这首歌让人感受到爱情的力量和美好，也让人对爱情充满期待和向往。");

        request.setUserContentList(List.of(new CommentAnalysisRequest.UserContent("10001", "情人不配游天地，日月嘿嘿嘿"),
                new CommentAnalysisRequest.UserContent("10002", "情人游天地 日月换行李"),
                new CommentAnalysisRequest.UserContent("10003", "这首歌是真的很美好，这首歌表达了正真的热爱，不是情侣热恋期的那种互相喜欢的甜，而是两人经历了事后依然爱着对方的细水流长、岁月静好的爱")));

        String result = bailianAssistant.analysisComment(request);
        System.out.println("###");
        System.out.println(result);
    }
}